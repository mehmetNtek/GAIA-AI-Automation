<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GAIA AI Automation | İşletme Otomasyon Çözümleri</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #020617; color: #f8fafc; }
        .glass { background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(12px); border-bottom: 1px solid rgba(30, 41, 59, 0.5); }
        .gradient-text { background: linear-gradient(to right, #34d399, #22d3ee); -webkit-background-clip: text; color: transparent; }
        .hero-glow { background: radial-gradient(circle at center, rgba(16, 185, 129, 0.15) 0%, transparent 70%); }

        /* EKRAN GÖRÜNÜMÜ AYARLARI */
        .print-only {
            display: none; /* Ekranda yazdırma versiyonunu gizle */
        }

        /* YAZDIRMA AYARLARI (KESİN ÇÖZÜM) */
        @media print {
            body { 
                background: white; 
                margin: 0; 
                padding: 0; 
                overflow: visible;
            }
            
            /* Sadece sözleşme alanını göster */
            #printable-contract {
                display: block !important;
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                margin: 0;
                padding: 2cm;
                color: black;
                background: white;
                z-index: 9999;
                border: none !important;
                box-shadow: none !important;
            }

            /* Ekranda gizlenen ama yazıcıda çıkması gerekenler */
            .print-only {
                display: block !important;
            }

            /* Ekranda görünen ama yazıcıda çıkmaması gerekenler (Preview gibi) */
            .no-print {
                display: none !important;
            }

            /* Diğer her şeyi gizle */
            nav, footer, #root > div > div > div.contract-wrapper > div > div:not(#printable-contract) {
                display: none !important;
            }

            .contract-text {
                font-family: 'Times New Roman', serif;
                font-size: 12pt;
                line-height: 1.5;
                white-space: pre-wrap;
                color: black !important;
            }
            
            @page { margin: 0; size: A4; }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- GÜNCEL AYARLAR ---
        const CONTACT_WHATSAPP = "905386793471"; 
        
        // DİKKAT: Aşağıdaki linki kendi Instagram adresinle değiştir.
        // Örnek: "https://www.instagram.com/gaia.ai.tr/"
        const INSTAGRAM_LINK = "https://www.instagram.com/gaia.ai.automation/"; 
        
        // GÜVENLİK GÜNCELLEMESİ: 
        // Şifre: "elam"
        const ADMIN_HASH = "3115795"; 

        function App() {
            const [view, setView] = useState('landing'); // 'landing' | 'admin'
            const [showLoginModal, setShowLoginModal] = useState(false);

            useEffect(() => {
                if (window.lucide) window.lucide.createIcons();
            }, [view, showLoginModal]);

            const handleLogout = () => {
                setView('landing');
            };

            return (
                <div className="min-h-screen selection:bg-emerald-500 selection:text-white pb-20 relative">
                    {/* Navigation */}
                    <nav className="glass sticky top-0 z-50 transition-all duration-300 no-print">
                        <div className="max-w-6xl mx-auto px-4 h-16 flex items-center justify-between">
                            <div className="flex items-center gap-2 cursor-pointer" onClick={() => setView('landing')}>
                                <div className="w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center shadow-lg shadow-emerald-500/20">
                                    <i data-lucide="bot" className="w-5 h-5 text-slate-950"></i>
                                </div>
                                <span className="text-xl font-bold tracking-tight text-white">GAIA AI <span className="text-emerald-500">Automation</span></span>
                            </div>
                            
                            <div className="flex gap-4">
                                {view === 'landing' ? (
                                    <a 
                                        href={`https://wa.me/${CONTACT_WHATSAPP}?text=Merhaba,%20otomasyon%20sistemi%20hakkında%20bilgi%20almak%20istiyorum.`}
                                        target="_blank"
                                        className="bg-emerald-500 hover:bg-emerald-400 text-slate-950 px-4 py-2 rounded-lg font-bold text-sm transition-colors flex items-center gap-2"
                                    >
                                        İletişime Geç <i data-lucide="arrow-right" className="w-4 h-4"></i>
                                    </a>
                                ) : (
                                    <button onClick={handleLogout} className="text-slate-400 hover:text-white text-sm bg-slate-800 px-3 py-1 rounded-md">Çıkış Yap</button>
                                )}
                            </div>
                        </div>
                    </nav>

                    {/* Content Switcher */}
                    <main>
                        {view === 'landing' ? <LandingPage onDemoClick={() => window.open(INSTAGRAM_LINK, '_blank')} /> : <ContractGenerator />}
                    </main>

                    {/* Footer */}
                    <footer className="border-t border-slate-800 mt-20 pt-10 pb-6 bg-slate-950 no-print">
                        <div className="max-w-6xl mx-auto px-4 flex flex-col items-center gap-4 text-center">
                            <p className="text-slate-500 text-sm">
                                &copy; 2025 Mehmet Nurullah Tek - GAIA AI Automation.<br/>
                                Türkiye Ofisi
                            </p>
                            
                            {/* Gizli Admin Girişi Butonu */}
                            {view === 'landing' && (
                                <button 
                                    onClick={() => setShowLoginModal(true)}
                                    className="text-slate-800 hover:text-emerald-900 text-xs transition-colors mt-4 flex items-center gap-1"
                                >
                                    <i data-lucide="lock" className="w-3 h-3"></i> Yönetici Girişi
                                </button>
                            )}
                        </div>
                    </footer>

                    {/* Login Modal */}
                    {showLoginModal && (
                        <LoginModal 
                            onClose={() => setShowLoginModal(false)} 
                            onLogin={() => {
                                setView('admin');
                                setShowLoginModal(false);
                            }} 
                        />
                    )}
                </div>
            );
        }

        function LoginModal({ onClose, onLogin }) {
            const [pass, setPass] = useState('');
            const [error, setError] = useState(false);
            const [loading, setLoading] = useState(false);

            // Basit Hash Fonksiyonu
            const simpleHash = (str) => {
                let hash = 0;
                if (str.length === 0) return hash.toString();
                for (let i = 0; i < str.length; i++) {
                    const char = str.charCodeAt(i);
                    hash = ((hash << 5) - hash) + char;
                    hash = hash & hash;
                }
                return hash.toString();
            }

            const handleSubmit = (e) => {
                e.preventDefault();
                setLoading(true);
                
                // "elam" kelimesinin simpleHash çıktısı "3115795"tir.
                const inputHash = simpleHash(pass);
                
                if (inputHash === ADMIN_HASH) {
                    setLoading(false);
                    onLogin();
                } else {
                    setLoading(false);
                    setError(true);
                    setPass('');
                }
            };

            return (
                <div className="fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-sm animate-in fade-in duration-200 no-print">
                    <div className="bg-slate-900 border border-slate-800 rounded-2xl p-6 w-full max-w-sm shadow-2xl relative">
                        <button onClick={onClose} className="absolute top-4 right-4 text-slate-500 hover:text-white">
                            <i data-lucide="x" className="w-5 h-5"></i>
                        </button>
                        
                        <h3 className="text-xl font-bold text-white mb-1">Yönetici Girişi</h3>
                        <p className="text-slate-400 text-sm mb-4">Sözleşme paneline erişmek için şifre girin.</p>
                        
                        <form onSubmit={handleSubmit} className="space-y-4">
                            <div>
                                <input 
                                    type="password" 
                                    value={pass}
                                    onChange={(e) => {setPass(e.target.value); setError(false);}}
                                    className={`w-full bg-slate-950 border ${error ? 'border-red-500' : 'border-slate-800'} rounded-lg px-4 py-3 text-white focus:outline-none focus:border-emerald-500 transition-colors`}
                                    placeholder="Şifre"
                                    autoFocus
                                />
                                {error && <p className="text-red-500 text-xs mt-2">Hatalı şifre.</p>}
                            </div>
                            <button type="submit" disabled={loading} className="w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 rounded-xl transition-colors">
                                {loading ? 'Kontrol ediliyor...' : 'Giriş Yap'}
                            </button>
                        </form>
                    </div>
                </div>
            );
        }

        function LandingPage({ onDemoClick }) {
            return (
                <div className="flex flex-col animate-in fade-in duration-700">
                    {/* Hero Section */}
                    <section className="py-24 px-4 text-center relative overflow-hidden hero-glow">
                        <div className="max-w-4xl mx-auto space-y-8">
                            <div className="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-slate-900/80 border border-slate-700 text-emerald-400 text-xs font-medium backdrop-blur-sm">
                                <span className="relative flex h-2 w-2">
                                    <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"></span>
                                    <span className="relative inline-flex rounded-full h-2 w-2 bg-emerald-500"></span>
                                </span>
                                İşletmenizi Geleceğe Taşıyoruz
                            </div>
                            
                            <h1 className="text-5xl md:text-7xl font-extrabold tracking-tight text-white leading-tight">
                                Müşterileriniz Beklemez, <br />
                                <span className="gradient-text">Yapay Zeka Cevaplar.</span>
                            </h1>
                            
                            <p className="text-lg md:text-xl text-slate-400 max-w-2xl mx-auto leading-relaxed">
                                Instagram DM kutunuzu 7/24 çalışan, randevu alan ve satış kapatan bir süper asistana dönüştürün. Personel maliyeti yok, uyku yok, mazeret yok.
                            </p>

                            <div className="pt-4 flex flex-col sm:flex-row gap-4 justify-center items-center">
                                <a 
                                    href={`https://wa.me/${CONTACT_WHATSAPP}`}
                                    target="_blank"
                                    className="w-full sm:w-auto px-8 py-4 bg-emerald-500 hover:bg-emerald-400 text-slate-950 font-bold rounded-xl transition-all hover:scale-105 flex items-center justify-center gap-2 shadow-xl shadow-emerald-500/20"
                                >
                                    WhatsApp'tan Yazın <i data-lucide="message-circle" className="w-5 h-5"></i>
                                </a>
                                <button 
                                    onClick={onDemoClick}
                                    className="w-full sm:w-auto px-8 py-4 bg-slate-800/50 hover:bg-slate-800 text-white font-medium rounded-xl transition-all border border-slate-700 hover:border-emerald-500/50 flex items-center justify-center gap-2"
                                >
                                    Örnek Çalışmayı Gör <i data-lucide="instagram" className="w-5 h-5 text-pink-500"></i>
                                </button>
                            </div>
                        </div>
                    </section>

                    {/* Value Props */}
                    <section className="py-20 px-4 bg-slate-900/30 border-y border-slate-800/50">
                        <div className="max-w-6xl mx-auto">
                            <div className="grid md:grid-cols-3 gap-8">
                                <FeatureCard 
                                    icon="clock" 
                                    color="text-blue-400"
                                    title="7/24 Kesintisiz Hizmet"
                                    desc="Siz uyurken veya dükkan kapalıyken bile müşteriye anında 'Sizi arayalım mı?' veya 'Randevu oluşturalım mı?' diyecek bir sistem."
                                />
                                <FeatureCard 
                                    icon="users" 
                                    color="text-pink-400"
                                    title="Müşteri Kaçırmayın"
                                    desc="DM'ye geç dönüldüğü için kaybedilen müşterilere son. Yorumlara, Story'lere anında profesyonel dönüş."
                                />
                                <FeatureCard 
                                    icon="trending-up" 
                                    color="text-emerald-400"
                                    title="Ciroyu Artırın"
                                    desc="Sadece cevap vermez, satışa yönlendirir. Günlük raporlar cebinize e-posta olarak gelir, kontrol sizde olur."
                                />
                            </div>
                        </div>
                    </section>
                </div>
            );
        }

        function FeatureCard({ icon, color, title, desc }) {
            return (
                <div className="p-8 bg-slate-950 border border-slate-800 rounded-2xl hover:border-emerald-500/30 transition-all hover:-translate-y-1">
                    <div className="mb-6 bg-slate-900 w-14 h-14 rounded-xl flex items-center justify-center">
                        <i data-lucide={icon} className={`w-7 h-7 ${color}`}></i>
                    </div>
                    <h3 className="text-xl font-bold mb-3 text-white">{title}</h3>
                    <p className="text-slate-400 leading-relaxed text-sm">{desc}</p>
                </div>
            );
        }

        function ContractGenerator() {
            const [formData, setFormData] = useState({
                clientName: '',
                companyName: '',
                address: '',
                priceSetup: '15.000', 
                priceMonthly: '3.000',
                startDate: new Date().toISOString().split('T')[0],
                paymentDay: '1',
                reportMethod: 'E-Posta' 
            });

            const [generated, setGenerated] = useState(false);
            const contractRef = useRef(null); // Otomatik kaydırma için referans

            // Sözleşmeyi hazırlama ve kaydırma fonksiyonu
            const handleGenerate = () => {
                setGenerated(true);
                // State güncellendikten hemen sonra aşağı kaydır
                setTimeout(() => {
                    contractRef.current?.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 100);
            };

            // Yazdırma fonksiyonu
            const handlePrint = () => {
                if (!generated) {
                    alert("Lütfen önce 'Sözleşmeyi Hazırla' butonuna basın.");
                    return;
                }
                window.print();
            };

            // Tarih formatlama fonksiyonu (YYYY-MM-DD -> DD.MM.YYYY)
            const formatDate = (dateString) => {
                if (!dateString) return '';
                const parts = dateString.split('-'); // [2026, 01, 09]
                return `${parts[2]}.${parts[1]}.${parts[0]}`; // 09.01.2026
            };

            const contractText = `
HİZMET SÖZLEŞMESİ VE GİZLİLİK TAAHHÜTNAMESİ

1. TARAFLAR
Hizmet Veren: Mehmet Nurullah Tek (GAIA AI Automation)
Müşteri: ${formData.companyName || '...'} - Yetkili: ${formData.clientName || '...'}
Adres: ${formData.address || '...'}

2. KONU
Müşterinin Instagram hesabı üzerine Yapay Zeka destekli otomasyon sisteminin kurulması.

3. HİZMET KAPSAMI
- Manychat, Make.com & OpenAI tabanlı DM Otomasyonu.
- Sosyal Medya Etkileşim ve Yanıt Yönetimi (Yorum/Story).
- İnsan Müdahalesi Gerektiren Durumların Bildirilmesi (E-Posta ile).
- ${formData.reportMethod} üzerinden Günlük Veri ve Satış Raporlaması.

4. 7 GÜNLÜK ÜCRETSİZ DENEME
- Müşteri, sistemi 7 gün boyunca hiçbir ücret ödemeden test edecektir.
- Deneme süreci sonunda memnuniyet sağlanmazsa sistem iptal edilir, ücret talep edilmez.

5. ÜCRETLENDİRME VE ÖDEME (Deneme Sonrası Onay Halinde)
- Kurulum Hizmet Bedeli: ${formData.priceSetup} TL + KDV (Tek Seferlik)
- Aylık Bakım ve Servis Bedeli: ${formData.priceMonthly} TL + KDV
- Ödeme Periyodu: Aylık bakım bedeli, her ayın ${formData.paymentDay}. günü fatura karşılığı peşin olarak ödenir.
* 3. Parti yazılım altyapı giderleri (Manychat, OpenAI vb.) hizmet bedeline dahil değildir, doğrudan sağlayıcıya (uygulama içine) ödenir.

6. GİZLİLİK VE GÜVENLİK
- Hizmet veren, müşterinin şifrelerini (varsa) ve ticari sırlarını 3. şahıslarla paylaşmayacağını,
- Verileri sadece otomasyonun çalışması amacıyla kullanacağını taahhüt eder.
- Müşteri dilediği zaman hizmeti sonlandırma hakkına sahiptir.

Tarih: ${formatDate(formData.startDate)}

Hizmet Veren (İmza)                              Müşteri (İmza)
            `;

            return (
                <div className="py-10 px-4 max-w-3xl mx-auto animate-in zoom-in-95 duration-300 contract-wrapper">
                    <div className="bg-slate-900 border border-slate-800 rounded-2xl p-8 shadow-2xl contract-paper">
                        <div className="mb-8 border-b border-slate-800 pb-6 flex justify-between items-center no-print">
                            <div>
                                <h2 className="text-2xl font-bold text-white flex items-center gap-2">
                                    <i data-lucide="shield-check" className="text-emerald-500"></i>
                                    Yönetici Paneli: Sözleşme
                                </h2>
                                <p className="text-slate-400 text-sm mt-1">Müşteri bilgilerini girerek sözleşmeyi hazırla.</p>
                            </div>
                        </div>

                        <div className="space-y-4 mb-8 no-print">
                            <div className="grid md:grid-cols-2 gap-4">
                                <InputGroup label="Müşteri Yetkili Adı" value={formData.clientName} onChange={(v) => setFormData({...formData, clientName: v})} />
                                <InputGroup label="İşletme Adı" value={formData.companyName} onChange={(v) => setFormData({...formData, companyName: v})} />
                            </div>
                            <InputGroup label="Adres" value={formData.address} onChange={(v) => setFormData({...formData, address: v})} />
                            
                            {/* Raporlama Tercihi */}
                            <div className="space-y-1">
                                <label className="text-xs font-medium text-slate-500 uppercase tracking-wider">Raporlama Tercihi</label>
                                <div className="grid grid-cols-2 gap-4">
                                    <button 
                                        onClick={() => setFormData({...formData, reportMethod: 'E-Posta'})}
                                        className={`px-3 py-2 rounded-lg text-sm border ${formData.reportMethod === 'E-Posta' ? 'bg-emerald-500/20 border-emerald-500 text-emerald-400' : 'bg-slate-950 border-slate-800 text-slate-400'}`}
                                    >
                                        E-Posta (Ücretsiz)
                                    </button>
                                    <button 
                                        onClick={() => setFormData({...formData, reportMethod: 'Telegram'})}
                                        className={`px-3 py-2 rounded-lg text-sm border ${formData.reportMethod === 'Telegram' ? 'bg-blue-500/20 border-blue-500 text-blue-400' : 'bg-slate-950 border-slate-800 text-slate-400'}`}
                                    >
                                        Telegram (Ücretsiz)
                                    </button>
                                </div>
                            </div>

                            <div className="grid md:grid-cols-4 gap-4">
                                <InputGroup label="Tarih" type="date" value={formData.startDate} onChange={(v) => setFormData({...formData, startDate: v})} />
                                <InputGroup label="Ödeme Günü (Ayın)" type="number" value={formData.paymentDay} onChange={(v) => setFormData({...formData, paymentDay: v})} />
                                <InputGroup label="Kurulum (TL + KDV)" value={formData.priceSetup} onChange={(v) => setFormData({...formData, priceSetup: v})} />
                                <InputGroup label="Aylık (TL + KDV)" value={formData.priceMonthly} onChange={(v) => setFormData({...formData, priceMonthly: v})} />
                            </div>
                        </div>

                        <div className="flex gap-4 no-print">
                            <button 
                                onClick={handleGenerate}
                                className="flex-1 bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 rounded-xl transition-colors flex items-center justify-center gap-2"
                            >
                                <i data-lucide="file-text" className="w-5 h-5"></i> Sözleşmeyi Hazırla
                            </button>
                            
                            {generated && (
                                <button 
                                    onClick={handlePrint}
                                    className="flex-1 bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded-xl transition-colors flex items-center justify-center gap-2 animate-in fade-in"
                                >
                                    <i data-lucide="printer" className="w-5 h-5"></i> Yazdır
                                </button>
                            )}
                        </div>

                        {generated && (
                            <div ref={contractRef} id="printable-contract" className="mt-6 bg-slate-950 p-6 rounded-xl border border-slate-800 relative group contract-paper">
                                {/* Ekranda Görünüm (PREVIEW) */}
                                <div className="no-print">
                                    <div className="flex items-center gap-2 mb-4 border-b border-slate-800 pb-2">
                                        <i data-lucide="eye" className="w-4 h-4 text-emerald-500"></i>
                                        <span className="text-sm font-bold text-slate-400">Önizleme</span>
                                    </div>
                                    <pre className="font-mono text-xs md:text-sm text-slate-300 whitespace-pre-wrap">{contractText}</pre>
                                </div>
                                
                                {/* Yazıcıda Görünüm (PRINT ONLY) */}
                                <div className="print-only">
                                    <div className="text-center mb-8">
                                        <h1 className="text-2xl font-bold border-b-2 border-black pb-2 mb-2">GAIA AI AUTOMATION</h1>
                                        <h2 className="text-xl font-bold">HİZMET SÖZLEŞMESİ</h2>
                                    </div>
                                    <pre className="contract-text">{contractText}</pre>
                                    <div className="mt-10 text-center text-sm text-gray-500">
                                        www.gaia-ai.com.tr | Mehmet Nurullah Tek
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        function InputGroup({ label, value, onChange, placeholder, type = "text" }) {
            return (
                <div className="space-y-1">
                    <label className="text-xs font-medium text-slate-500 uppercase tracking-wider">{label}</label>
                    <input 
                        type={type}
                        value={value}
                        onChange={(e) => onChange(e.target.value)}
                        placeholder={placeholder}
                        className="w-full bg-slate-950 border border-slate-800 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-all text-sm"
                    />
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>